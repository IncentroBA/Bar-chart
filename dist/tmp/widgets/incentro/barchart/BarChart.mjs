import { useState, useRef, useCallback, useEffect, createElement } from 'react';

function BarChart({
  context,
  chartValue,
  colors,
  customSortOrder,
  chartName,
  disableIndicators,
  legendOrientation,
  roundedCorners,
  sortAttribute,
  sortOrder,
  unit,
  unitPosition
}) {
  const [canRender, setCanRender] = useState(false);
  const containerRef = useRef([]);
  const colorArray = ["#003f5c", "#2f4b7c", "#665191", "#a05195", "#d45087", "#f95d6a", "#ff7c43", "#ffa600"];
  const [total, setTotal] = useState(0);
  const rounded = roundedCorners ? "barchart-chart--rounded" : null;
  const tooltipRef = useCallback(tooltipNode => {
    if (tooltipNode.getBoundingClientRect().right >= window.innerWidth) {
      tooltipNode.classList.add("align-right");
    }
  }, []);
  function showTooltip(index) {
    index.classList.add("show-tooltip");
  }
  function hideTooltip(index) {
    index.classList.remove("show-tooltip");
  }
  useEffect(() => {
    function calcTotal() {
      const totals = [];
      context.items.map((item, index) => totals.push(Number(chartValue.get(context.items[index]).displayValue)));
      setTotal(totals.reduce((a, b) => a + b, 0));
    }
    function setSortOrder() {
      let sortInstrs = [];
      if (!customSortOrder && sortAttribute === "chartName" && chartName.sortable) {
        sortInstrs = [[chartName.id, sortOrder]];
      } else if (!customSortOrder && sortAttribute === "chartValue" && chartValue.sortable) {
        sortInstrs = [[chartValue.id, sortOrder]];
      } else if (customSortOrder && customSortOrder.sortable) {
        sortInstrs = [[customSortOrder.id, sortOrder]];
      }
      context.setSortOrder(sortInstrs);
    }
    if (context && context.status === "available" && context.items.length > 0) {
      setSortOrder();
      calcTotal();
      setCanRender(true);
    }
  }, [context, colors, customSortOrder, sortAttribute, chartName, chartValue, sortOrder]);
  if (canRender) {
    return createElement("div", {
      className: "barchart-widget"
    }, createElement("ul", {
      className: `barchart-legend barchart-legend--${legendOrientation}`
    }, context.items.map((item, index) => createElement("li", {
      key: item,
      ref: element => containerRef.current[index] = element,
      name: `barchart-legend-index-${index}`,
      onMouseEnter: () => showTooltip(containerRef.current[index]),
      onMouseLeave: () => hideTooltip(containerRef.current[index])
    }, createElement("span", {
      style: {
        backgroundColor: `var(--barchart-color-${[index]}, ${colors[index] ? colors[index].value : colorArray[index]})`
      }
    }), createElement("p", null, chartName.get(context.items[index]).displayValue)))), createElement("ul", {
      className: `barchart-chart ${rounded}`
    }, context.items.map((item, index) => createElement("li", {
      key: item,
      ref: element => containerRef.current[index] = element,
      name: `barchart-index-${index}`,
      onMouseEnter: () => showTooltip(containerRef.current[index]),
      onMouseLeave: () => hideTooltip(containerRef.current[index]),
      style: {
        flex: chartValue.get(context.items[index]).displayValue,
        backgroundColor: `var(--barchart-color-${[index]}, ${colors[index] ? colors[index].value : colorArray[index]})`
      }
    }, createElement("div", {
      className: "barchart-tooltip",
      ref: tooltipRef
    }, createElement("p", null, createElement("span", null, unitPosition === "before" && unit && unit, chartValue.get(context.items[index]).displayValue, unitPosition === "after" && unit && unit), " ", chartName.get(context.items[index]).displayValue))))), !disableIndicators && createElement("div", {
      className: "barchart-meter"
    }, createElement("div", {
      className: "item"
    }), createElement("div", {
      className: "item"
    }), createElement("div", {
      className: "item"
    }), createElement("div", {
      className: "item"
    }), createElement("div", {
      className: "item"
    }), createElement("div", {
      className: "item"
    }), createElement("div", {
      className: "item"
    }), createElement("div", {
      className: "item"
    }), createElement("div", {
      className: "item"
    }), createElement("div", {
      className: "item"
    }), createElement("div", {
      className: "item"
    })), !disableIndicators && createElement("div", {
      className: "barchart-indicators"
    }, createElement("span", {
      className: "barchart-indicator"
    }, unitPosition === "before" && unit && unit, "0", unitPosition === "after" && unit && unit), createElement("span", {
      className: "barchart-indicator"
    }, unitPosition === "before" && unit && unit, total / 2, unitPosition === "after" && unit && unit), createElement("span", {
      className: "barchart-indicator"
    }, unitPosition === "before" && unit && unit, total, unitPosition === "after" && unit && unit)));
  } else {
    return createElement("div", {
      className: "barchart-widget"
    });
  }
}

export { BarChart as default };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQmFyQ2hhcnQubWpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQmFyQ2hhcnQuanN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcIi4vdWkvQmFyQ2hhcnQuY3NzXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50LCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEJhckNoYXJ0KHtcbiAgICBjb250ZXh0LFxuICAgIGNoYXJ0VmFsdWUsXG4gICAgY29sb3JzLFxuICAgIGN1c3RvbVNvcnRPcmRlcixcbiAgICBjaGFydE5hbWUsXG4gICAgZGlzYWJsZUluZGljYXRvcnMsXG4gICAgbGVnZW5kT3JpZW50YXRpb24sXG4gICAgcm91bmRlZENvcm5lcnMsXG4gICAgc29ydEF0dHJpYnV0ZSxcbiAgICBzb3J0T3JkZXIsXG4gICAgdW5pdCxcbiAgICB1bml0UG9zaXRpb25cbn0pIHtcbiAgICBjb25zdCBbY2FuUmVuZGVyLCBzZXRDYW5SZW5kZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IGNvbnRhaW5lclJlZiA9IHVzZVJlZihbXSk7XG4gICAgY29uc3QgY29sb3JBcnJheSA9IFtcIiMwMDNmNWNcIiwgXCIjMmY0YjdjXCIsIFwiIzY2NTE5MVwiLCBcIiNhMDUxOTVcIiwgXCIjZDQ1MDg3XCIsIFwiI2Y5NWQ2YVwiLCBcIiNmZjdjNDNcIiwgXCIjZmZhNjAwXCJdO1xuICAgIGNvbnN0IFt0b3RhbCwgc2V0VG90YWxdID0gdXNlU3RhdGUoMCk7XG4gICAgY29uc3Qgcm91bmRlZCA9IHJvdW5kZWRDb3JuZXJzID8gXCJiYXJjaGFydC1jaGFydC0tcm91bmRlZFwiIDogbnVsbDtcblxuICAgIGNvbnN0IHRvb2x0aXBSZWYgPSB1c2VDYWxsYmFjayh0b29sdGlwTm9kZSA9PiB7XG4gICAgICAgIGlmICh0b29sdGlwTm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodCA+PSB3aW5kb3cuaW5uZXJXaWR0aCkge1xuICAgICAgICAgICAgdG9vbHRpcE5vZGUuY2xhc3NMaXN0LmFkZChcImFsaWduLXJpZ2h0XCIpO1xuICAgICAgICB9XG4gICAgfSwgW10pO1xuXG4gICAgZnVuY3Rpb24gc2hvd1Rvb2x0aXAoaW5kZXgpIHtcbiAgICAgICAgaW5kZXguY2xhc3NMaXN0LmFkZChcInNob3ctdG9vbHRpcFwiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoaWRlVG9vbHRpcChpbmRleCkge1xuICAgICAgICBpbmRleC5jbGFzc0xpc3QucmVtb3ZlKFwic2hvdy10b29sdGlwXCIpO1xuICAgIH1cblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGZ1bmN0aW9uIGNhbGNUb3RhbCgpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvdGFscyA9IFtdO1xuICAgICAgICAgICAgY29udGV4dC5pdGVtcy5tYXAoKGl0ZW0sIGluZGV4KSA9PiB0b3RhbHMucHVzaChOdW1iZXIoY2hhcnRWYWx1ZS5nZXQoY29udGV4dC5pdGVtc1tpbmRleF0pLmRpc3BsYXlWYWx1ZSkpKTtcbiAgICAgICAgICAgIHNldFRvdGFsKHRvdGFscy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gc2V0U29ydE9yZGVyKCkge1xuICAgICAgICAgICAgbGV0IHNvcnRJbnN0cnMgPSBbXTtcbiAgICAgICAgICAgIGlmICghY3VzdG9tU29ydE9yZGVyICYmIHNvcnRBdHRyaWJ1dGUgPT09IFwiY2hhcnROYW1lXCIgJiYgY2hhcnROYW1lLnNvcnRhYmxlKSB7XG4gICAgICAgICAgICAgICAgc29ydEluc3RycyA9IFtbY2hhcnROYW1lLmlkLCBzb3J0T3JkZXJdXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWN1c3RvbVNvcnRPcmRlciAmJiBzb3J0QXR0cmlidXRlID09PSBcImNoYXJ0VmFsdWVcIiAmJiBjaGFydFZhbHVlLnNvcnRhYmxlKSB7XG4gICAgICAgICAgICAgICAgc29ydEluc3RycyA9IFtbY2hhcnRWYWx1ZS5pZCwgc29ydE9yZGVyXV07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGN1c3RvbVNvcnRPcmRlciAmJiBjdXN0b21Tb3J0T3JkZXIuc29ydGFibGUpIHtcbiAgICAgICAgICAgICAgICBzb3J0SW5zdHJzID0gW1tjdXN0b21Tb3J0T3JkZXIuaWQsIHNvcnRPcmRlcl1dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGV4dC5zZXRTb3J0T3JkZXIoc29ydEluc3Rycyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udGV4dCAmJiBjb250ZXh0LnN0YXR1cyA9PT0gXCJhdmFpbGFibGVcIiAmJiBjb250ZXh0Lml0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNldFNvcnRPcmRlcigpO1xuICAgICAgICAgICAgY2FsY1RvdGFsKCk7XG4gICAgICAgICAgICBzZXRDYW5SZW5kZXIodHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9LCBbY29udGV4dCwgY29sb3JzLCBjdXN0b21Tb3J0T3JkZXIsIHNvcnRBdHRyaWJ1dGUsIGNoYXJ0TmFtZSwgY2hhcnRWYWx1ZSwgc29ydE9yZGVyXSk7XG5cbiAgICBpZiAoY2FuUmVuZGVyKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJhcmNoYXJ0LXdpZGdldFwiPlxuICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9e2BiYXJjaGFydC1sZWdlbmQgYmFyY2hhcnQtbGVnZW5kLS0ke2xlZ2VuZE9yaWVudGF0aW9ufWB9PlxuICAgICAgICAgICAgICAgICAgICB7Y29udGV4dC5pdGVtcy5tYXAoKGl0ZW0sIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2l0ZW19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXtlbGVtZW50ID0+IChjb250YWluZXJSZWYuY3VycmVudFtpbmRleF0gPSBlbGVtZW50KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPXtgYmFyY2hhcnQtbGVnZW5kLWluZGV4LSR7aW5kZXh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eygpID0+IHNob3dUb29sdGlwKGNvbnRhaW5lclJlZi5jdXJyZW50W2luZGV4XSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoKSA9PiBoaWRlVG9vbHRpcChjb250YWluZXJSZWYuY3VycmVudFtpbmRleF0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGB2YXIoLS1iYXJjaGFydC1jb2xvci0ke1tpbmRleF19LCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yc1tpbmRleF0gPyBjb2xvcnNbaW5kZXhdLnZhbHVlIDogY29sb3JBcnJheVtpbmRleF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+e2NoYXJ0TmFtZS5nZXQoY29udGV4dC5pdGVtc1tpbmRleF0pLmRpc3BsYXlWYWx1ZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9e2BiYXJjaGFydC1jaGFydCAke3JvdW5kZWR9YH0+XG4gICAgICAgICAgICAgICAgICAgIHtjb250ZXh0Lml0ZW1zLm1hcCgoaXRlbSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aXRlbX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9e2VsZW1lbnQgPT4gKGNvbnRhaW5lclJlZi5jdXJyZW50W2luZGV4XSA9IGVsZW1lbnQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9e2BiYXJjaGFydC1pbmRleC0ke2luZGV4fWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoKSA9PiBzaG93VG9vbHRpcChjb250YWluZXJSZWYuY3VycmVudFtpbmRleF0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KCkgPT4gaGlkZVRvb2x0aXAoY29udGFpbmVyUmVmLmN1cnJlbnRbaW5kZXhdKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4OiBjaGFydFZhbHVlLmdldChjb250ZXh0Lml0ZW1zW2luZGV4XSkuZGlzcGxheVZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGB2YXIoLS1iYXJjaGFydC1jb2xvci0ke1tpbmRleF19LCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JzW2luZGV4XSA/IGNvbG9yc1tpbmRleF0udmFsdWUgOiBjb2xvckFycmF5W2luZGV4XVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmFyY2hhcnQtdG9vbHRpcFwiIHJlZj17dG9vbHRpcFJlZn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3VuaXRQb3NpdGlvbiA9PT0gXCJiZWZvcmVcIiAmJiB1bml0ICYmIHVuaXR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NoYXJ0VmFsdWUuZ2V0KGNvbnRleHQuaXRlbXNbaW5kZXhdKS5kaXNwbGF5VmFsdWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3VuaXRQb3NpdGlvbiA9PT0gXCJhZnRlclwiICYmIHVuaXQgJiYgdW5pdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2hhcnROYW1lLmdldChjb250ZXh0Lml0ZW1zW2luZGV4XSkuZGlzcGxheVZhbHVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgIHshZGlzYWJsZUluZGljYXRvcnMgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJhcmNoYXJ0LW1ldGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIml0ZW1cIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaXRlbVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpdGVtXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIml0ZW1cIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaXRlbVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpdGVtXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIml0ZW1cIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaXRlbVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpdGVtXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIml0ZW1cIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaXRlbVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgeyFkaXNhYmxlSW5kaWNhdG9ycyAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmFyY2hhcnQtaW5kaWNhdG9yc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYmFyY2hhcnQtaW5kaWNhdG9yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3VuaXRQb3NpdGlvbiA9PT0gXCJiZWZvcmVcIiAmJiB1bml0ICYmIHVuaXR9MHt1bml0UG9zaXRpb24gPT09IFwiYWZ0ZXJcIiAmJiB1bml0ICYmIHVuaXR9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJiYXJjaGFydC1pbmRpY2F0b3JcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dW5pdFBvc2l0aW9uID09PSBcImJlZm9yZVwiICYmIHVuaXQgJiYgdW5pdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dG90YWwgLyAyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt1bml0UG9zaXRpb24gPT09IFwiYWZ0ZXJcIiAmJiB1bml0ICYmIHVuaXR9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJiYXJjaGFydC1pbmRpY2F0b3JcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dW5pdFBvc2l0aW9uID09PSBcImJlZm9yZVwiICYmIHVuaXQgJiYgdW5pdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dG90YWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3VuaXRQb3NpdGlvbiA9PT0gXCJhZnRlclwiICYmIHVuaXQgJiYgdW5pdH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImJhcmNoYXJ0LXdpZGdldFwiPjwvZGl2PjtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiQmFyQ2hhcnQiLCJjb250ZXh0IiwiY2hhcnRWYWx1ZSIsImNvbG9ycyIsImN1c3RvbVNvcnRPcmRlciIsImNoYXJ0TmFtZSIsImRpc2FibGVJbmRpY2F0b3JzIiwibGVnZW5kT3JpZW50YXRpb24iLCJyb3VuZGVkQ29ybmVycyIsInNvcnRBdHRyaWJ1dGUiLCJzb3J0T3JkZXIiLCJ1bml0IiwidW5pdFBvc2l0aW9uIiwiY2FuUmVuZGVyIiwic2V0Q2FuUmVuZGVyIiwidXNlU3RhdGUiLCJjb250YWluZXJSZWYiLCJ1c2VSZWYiLCJjb2xvckFycmF5IiwidG90YWwiLCJzZXRUb3RhbCIsInJvdW5kZWQiLCJ0b29sdGlwUmVmIiwidXNlQ2FsbGJhY2siLCJ0b29sdGlwTm9kZSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInJpZ2h0Iiwid2luZG93IiwiaW5uZXJXaWR0aCIsImNsYXNzTGlzdCIsImFkZCIsInNob3dUb29sdGlwIiwiaW5kZXgiLCJoaWRlVG9vbHRpcCIsInJlbW92ZSIsInVzZUVmZmVjdCIsImNhbGNUb3RhbCIsInRvdGFscyIsIml0ZW1zIiwibWFwIiwiaXRlbSIsInB1c2giLCJOdW1iZXIiLCJnZXQiLCJkaXNwbGF5VmFsdWUiLCJyZWR1Y2UiLCJhIiwiYiIsInNldFNvcnRPcmRlciIsInNvcnRJbnN0cnMiLCJzb3J0YWJsZSIsImlkIiwic3RhdHVzIiwibGVuZ3RoIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImtleSIsInJlZiIsImVsZW1lbnQiLCJjdXJyZW50IiwibmFtZSIsIm9uTW91c2VFbnRlciIsIm9uTW91c2VMZWF2ZSIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwidmFsdWUiLCJmbGV4Il0sIm1hcHBpbmdzIjoiOztBQUdlLFNBQVNBLFFBQVFBLENBQUM7RUFDN0JDLE9BQU87RUFDUEMsVUFBVTtFQUNWQyxNQUFNO0VBQ05DLGVBQWU7RUFDZkMsU0FBUztFQUNUQyxpQkFBaUI7RUFDakJDLGlCQUFpQjtFQUNqQkMsY0FBYztFQUNkQyxhQUFhO0VBQ2JDLFNBQVM7RUFDVEMsSUFBSTtBQUNKQyxFQUFBQSxZQUFBQTtBQUNKLENBQUMsRUFBRTtFQUNDLE1BQU0sQ0FBQ0MsU0FBUyxFQUFFQyxZQUFZLENBQUMsR0FBR0MsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFBO0FBQ2pELEVBQUEs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
